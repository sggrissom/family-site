{{ define "title" }}it's home{{ end }}
{{ define "content" }}
  <div class="container family-dashboard">
    <h2>Family Dashboard</h2>
    <p>Welcome {{ .Family.Name }} family! Hereâ€™s an overview of your family.</p>

    <h3>Family Members</h3>
      {{ range .People }}
        <div class="row" onclick="toggleRow(this)">
          <div class="row-header">
              <span>{{ .Name }}</span>
              <span>{{ .Age }}</span>
          </div>
          <div class="row-details">
              <p><a href="/person/{{.Id}}">{{ .Name }}</a></p>
              <p><strong>Birthday:</strong> {{ .Birthday | formatDate }}</p>
              <p><strong>Age:</strong> {{ .Age }}</p>
              <p><strong>Type:</strong> {{ . | displayType }}</p>
          </div>
        </div>
      {{ end }}

    <div class="actions">
      <a class="cta-button" href="/children/add">Add Person</a>
      <a class="cta-button" href="/milestones/add">Add Milestone</a>
    </div>
  </div>
{{ end }}

{{ define "css" }}
  <style>
    .family-dashboard {
      max-width: 900px;
      margin: 40px auto;
    }

    .family-dashboard h2 {
      margin-bottom: 10px;
      font-size: 1.8em;
      color: var(--primary-color);
    }

    .family-dashboard p {
      margin-bottom: 20px;
      font-size: 1.1em;
    }

    .actions {
      margin-top: 30px;
    }
    .actions .cta-button {
      margin-right: 10px;
      margin-bottom: 10px;
    }

    .dashboard {
      max-width: 800px;
      margin: auto;
    }

    .row {
      background: white;
      margin-bottom: 1rem;
      padding: 1rem;
      border-radius: 0.5rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .row:hover {
      background: #f0f4ff;
    }

    .row-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .row-details {
      margin-top: 1rem;
      display: none;
      font-size: 0.95rem;
      color: #555;
    }

    .row.open .row-details {
      display: block;
    }
  </style>
{{ end }}

{{ define "js" }}
  <script>
    function toggleRow(row) {
      row.classList.toggle('open');
    }
  </script>
{{ end }}